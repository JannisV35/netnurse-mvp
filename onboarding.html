<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NetNurse - Willkommen</title>
<style>
  * {box-sizing: border-box; margin: 0; padding: 0;}
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }
  
  .logo-container {
    text-align: center;
    margin-bottom: 40px;
    animation: fadeIn 0.8s;
  }
  
  .logo {
    width: 100px;
    height: 100px;
    background: white;
    border-radius: 25px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 3em;
    margin: 0 auto 20px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.3);
  }
  
  .logo-text {
    color: white;
    font-size: 2.5em;
    font-weight: bold;
    text-shadow: 0 2px 10px rgba(0,0,0,0.2);
  }
  
  .tagline {
    color: rgba(255,255,255,0.9);
    font-size: 1.1em;
    margin-top: 10px;
  }
  
  .onboarding-container {
    background: white;
    border-radius: 25px;
    padding: 40px;
    max-width: 500px;
    width: 100%;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    animation: slideUp 0.8s;
  }
  
  @keyframes fadeIn {
    from {opacity: 0; transform: translateY(-20px);}
    to {opacity: 1; transform: translateY(0);}
  }
  
  @keyframes slideUp {
    from {opacity: 0; transform: translateY(40px);}
    to {opacity: 1; transform: translateY(0);}
  }
  
  .step {
    display: none;
  }
  
  .step.active {
    display: block;
    animation: fadeInStep 0.5s;
  }
  
  @keyframes fadeInStep {
    from {opacity: 0; transform: scale(0.95);}
    to {opacity: 1; transform: scale(1);}
  }
  
  .step-header {
    text-align: center;
    margin-bottom: 30px;
  }
  
  .step-number {
    display: inline-block;
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    margin: 0 auto 15px;
  }
  
  .step-title {
    font-size: 1.8em;
    color: #333;
    margin-bottom: 10px;
  }
  
  .step-description {
    color: #666;
    line-height: 1.6;
  }
  
  .qr-scanner {
    background: #f8f9fa;
    border-radius: 20px;
    padding: 40px;
    text-align: center;
    margin: 30px 0;
    border: 3px dashed #ddd;
    position: relative;
    overflow: hidden;
  }
  
  .qr-scanner::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, transparent, #667eea, transparent);
    animation: scan 2s linear infinite;
  }
  
  @keyframes scan {
    0% {transform: translateY(0);}
    100% {transform: translateY(300px);}
  }
  
  .qr-scanner-icon {
    font-size: 5em;
    margin-bottom: 20px;
    opacity: 0.5;
  }
  
  .qr-scanner-text {
    color: #666;
    font-size: 1em;
  }
  
  .qr-code-display {
    background: white;
    padding: 20px;
    border-radius: 15px;
    display: inline-block;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    margin: 20px 0;
  }
  
  .qr-code-display img {
    width: 200px;
    height: 200px;
    display: block;
  }
  
  .demo-qr-info {
    background: #e3f2fd;
    border-left: 4px solid #2196f3;
    padding: 15px;
    border-radius: 8px;
    margin: 20px 0;
    font-size: 0.9em;
    color: #1976d2;
  }
  
  .patient-info-form {
    margin: 20px 0;
  }
  
  .form-group {
    margin-bottom: 20px;
  }
  
  .form-label {
    display: block;
    margin-bottom: 8px;
    color: #333;
    font-weight: 600;
    font-size: 0.95em;
  }
  
  .form-input {
    width: 100%;
    padding: 12px 16px;
    border: 2px solid #e0e0e0;
    border-radius: 10px;
    font-size: 1em;
    font-family: inherit;
    transition: all 0.2s;
  }
  
  .form-input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102,126,234,0.1);
  }
  
  .form-input:disabled {
    background: #f5f5f5;
    color: #999;
  }
  
  .success-icon {
    font-size: 5em;
    color: #4caf50;
    margin-bottom: 20px;
    animation: scaleIn 0.5s;
  }
  
  @keyframes scaleIn {
    0% {transform: scale(0); opacity: 0;}
    50% {transform: scale(1.2);}
    100% {transform: scale(1); opacity: 1;}
  }
  
  .success-message {
    text-align: center;
    margin: 20px 0;
  }
  
  .success-message h3 {
    color: #4caf50;
    font-size: 1.5em;
    margin-bottom: 10px;
  }
  
  .patient-card {
    background: #f8f9fa;
    border-radius: 15px;
    padding: 20px;
    margin: 20px 0;
  }
  
  .patient-card-row {
    display: flex;
    justify-content: space-between;
    padding: 12px 0;
    border-bottom: 1px solid #e0e0e0;
  }
  
  .patient-card-row:last-child {
    border-bottom: none;
  }
  
  .patient-card-label {
    font-weight: 600;
    color: #666;
  }
  
  .patient-card-value {
    color: #333;
  }
  
  .button-group {
    display: flex;
    gap: 10px;
    margin-top: 30px;
  }
  
  .btn {
    flex: 1;
    padding: 14px 24px;
    border: none;
    border-radius: 12px;
    font-size: 1em;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
  }
  
  .btn-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    box-shadow: 0 4px 15px rgba(102,126,234,0.3);
  }
  
  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(102,126,234,0.4);
  }
  
  .btn-primary:active {
    transform: translateY(0);
  }
  
  .btn-secondary {
    background: #f0f0f0;
    color: #333;
  }
  
  .btn-secondary:hover {
    background: #e0e0e0;
  }
  
  .btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  
  .loading-spinner {
    border: 3px solid rgba(102,126,234,0.3);
    border-top: 3px solid #667eea;
    border-radius: 50%;
    width: 24px;
    height: 24px;
    animation: spin 1s linear infinite;
    display: inline-block;
  }
  
  @keyframes spin {
    0% {transform: rotate(0deg);}
    100% {transform: rotate(360deg);}
  }
  
  .feature-list {
    list-style: none;
    margin: 20px 0;
  }
  
  .feature-item {
    padding: 12px 0;
    display: flex;
    align-items: center;
    gap: 12px;
    color: #666;
  }
  
  .feature-icon {
    font-size: 1.5em;
    width: 40px;
    text-align: center;
  }
  
  .progress-dots {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 30px;
  }
  
  .progress-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #e0e0e0;
    transition: all 0.3s;
  }
  
  .progress-dot.active {
    background: #667eea;
    transform: scale(1.3);
  }
  
  .footer-text {
    text-align: center;
    color: rgba(255,255,255,0.7);
    font-size: 0.85em;
    margin-top: 30px;
  }
  
  /* Responsive */
  @media (max-width: 600px) {
    .onboarding-container {
      padding: 30px 20px;
    }
    
    .logo-text {
      font-size: 2em;
    }
    
    .step-title {
      font-size: 1.5em;
    }
    
    .button-group {
      flex-direction: column;
    }
  }
</style>
</head>
<body>

<div class="logo-container">
  <div class="logo">üè•</div>
  <div class="logo-text">NetNurse MV</div>
  <div class="tagline">Ihre digitale Pflegebetreuung</div>
</div>

<div class="onboarding-container">
  <!-- Step 1: Welcome -->
  <div class="step active" id="step1">
    <div class="step-header">
      <div class="step-number">1</div>
      <h2 class="step-title">Willkommen!</h2>
      <p class="step-description">
        Sch√∂n, dass Sie NetNurse nutzen. Wir begleiten Sie nach Ihrer Entlassung und sorgen f√ºr eine sichere Betreuung zu Hause.
      </p>
    </div>
    
    <ul class="feature-list">
      <li class="feature-item">
        <span class="feature-icon">üí¨</span>
        <span>Direkter Chat mit Ihrer Pflegekraft</span>
      </li>
      <li class="feature-item">
        <span class="feature-icon">üìπ</span>
        <span>Video- und Telefonanrufe</span>
      </li>
      <li class="feature-item">
        <span class="feature-icon">‚úÖ</span>
        <span>Strukturierte Aufgabenverwaltung</span>
      </li>
      <li class="feature-item">
        <span class="feature-icon">üìä</span>
        <span>Gesundheitsmonitoring</span>
      </li>
      <li class="feature-item">
        <span class="feature-icon">üîí</span>
        <span>Sichere Daten√ºbertragung</span>
      </li>
    </ul>
    
    <div class="button-group">
      <button class="btn btn-primary" onclick="nextStep()">
        Jetzt starten ‚Üí
      </button>
    </div>
  </div>

  <!-- Step 2: QR Scan -->
  <div class="step" id="step2">
    <div class="step-header">
      <div class="step-number">2</div>
      <h2 class="step-title">QR-Code scannen</h2>
      <p class="step-description">
        Scannen Sie den QR-Code, den Sie bei Ihrer Entlassung erhalten haben.
      </p>
    </div>
    
    <div class="qr-scanner">
      <div class="qr-scanner-icon">üì∑</div>
      <div class="qr-scanner-text">
        <strong>Kamera wird aktiviert...</strong><br>
        <small>Halten Sie den QR-Code vor die Kamera</small>
      </div>
    </div>
    
    <div class="demo-qr-info">
      <strong>üéØ Demo-Modus:</strong> In dieser Demonstration wird automatisch ein QR-Code erkannt. In der echten Anwendung w√ºrden Sie hier Ihren pers√∂nlichen QR-Code scannen.
    </div>
    
    <div class="button-group">
      <button class="btn btn-secondary" onclick="previousStep()">
        ‚Üê Zur√ºck
      </button>
      <button class="btn btn-primary" onclick="simulateScan()">
        <span class="loading-spinner" id="scanSpinner" style="display: none;"></span>
        <span id="scanButtonText">QR-Code simulieren</span>
      </button>
    </div>
  </div>

  <!-- Step 3: Verify Info -->
  <div class="step" id="step3">
    <div class="step-header">
      <div class="step-number">3</div>
      <h2 class="step-title">Daten best√§tigen</h2>
      <p class="step-description">
        Bitte √ºberpr√ºfen Sie Ihre Daten und best√§tigen Sie diese.
      </p>
    </div>
    
    <form class="patient-info-form" id="patientForm">
      <div class="form-group">
        <label class="form-label">Patient-ID</label>
        <input type="text" class="form-input" value="P001" disabled>
      </div>
      
      <div class="form-group">
        <label class="form-label">Name</label>
        <input type="text" class="form-input" id="patientName" value="Maria M√ºller" required>
      </div>
      
      <div class="form-group">
        <label class="form-label">Geburtsdatum</label>
        <input type="date" class="form-input" id="patientBirthdate" value="1958-03-15" required>
      </div>
      
      <div class="form-group">
        <label class="form-label">Diagnose</label>
        <input type="text" class="form-input" value="Exsikkose" disabled>
      </div>
      
      <div class="form-group">
        <label class="form-label">Zugewiesene Pflegekraft</label>
        <input type="text" class="form-input" value="A. Pausa" disabled>
      </div>
      
      <div class="form-group">
        <label class="form-label">Entlassungsdatum</label>
        <input type="date" class="form-input" value="2025-10-14" disabled>
      </div>
    </form>
    
    <div class="demo-qr-info">
      <strong>‚ÑπÔ∏è Hinweis:</strong> Ihre pers√∂nlichen Daten sind verschl√ºsselt und DSGVO-konform gespeichert.
    </div>
    
    <div class="button-group">
      <button class="btn btn-secondary" onclick="previousStep()">
        ‚Üê Zur√ºck
      </button>
      <button class="btn btn-primary" onclick="confirmData()">
        Daten best√§tigen ‚Üí
      </button>
    </div>
  </div>

  <!-- Step 4: Success -->
  <div class="step" id="step4">
    <div class="success-message">
      <div class="success-icon">‚úì</div>
      <h3>Erfolgreich registriert!</h3>
      <p class="step-description">
        Ihr NetNurse-Account wurde erfolgreich eingerichtet.
      </p>
    </div>
    
    <div class="patient-card">
      <div class="patient-card-row">
        <span class="patient-card-label">ü©∫ Patient</span>
        <span class="patient-card-value">Maria M√ºller</span>
      </div>
      <div class="patient-card-row">
        <span class="patient-card-label">üÜî Patient-ID</span>
        <span class="patient-card-value">P001</span>
      </div>
      <div class="patient-card-row">
        <span class="patient-card-label">üë®‚Äç‚öïÔ∏è Pflegekraft</span>
        <span class="patient-card-value">A. Pausa</span>
      </div>
      <div class="patient-card-row">
        <span class="patient-card-label">‚úÖ Status</span>
        <span class="patient-card-value">Aktiv</span>
      </div>
    </div>
    
    <div class="demo-qr-info">
      <strong>üéâ Sie sind bereit!</strong> Sie k√∂nnen jetzt mit Ihrer Pflegekraft kommunizieren und Ihre Aufgaben verwalten.
    </div>
    
    <div class="button-group">
      <button class="btn btn-primary" onclick="openPatientApp()" style="width: 100%;">
        Zur App ‚Üí
      </button>
    </div>
  </div>

  <!-- Progress Dots -->
  <div class="progress-dots">
    <div class="progress-dot active" data-step="1"></div>
    <div class="progress-dot" data-step="2"></div>
    <div class="progress-dot" data-step="3"></div>
    <div class="progress-dot" data-step="4"></div>
  </div>
</div>

<div class="footer-text">
  ¬© 2025 Universit√§tsmedizin Rostock<br>
  NetNurse MV - Digitale Pflegebetreuung
</div>

<script>
let currentStep = 1;

function nextStep() {
  if (currentStep < 4) {
    currentStep++;
    showStep(currentStep);
  }
}

function previousStep() {
  if (currentStep > 1) {
    currentStep--;
    showStep(currentStep);
  }
}

function showStep(step) {
  document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
  document.getElementById('step' + step).classList.add('active');
  
  document.querySelectorAll('.progress-dot').forEach((dot, index) => {
    if (index < step) {
      dot.classList.add('active');
    } else {
      dot.classList.remove('active');
    }
  });
  
  currentStep = step;
}

function simulateScan() {
  const button = document.querySelector('#step2 .btn-primary');
  const spinner = document.getElementById('scanSpinner');
  const buttonText = document.getElementById('scanButtonText');
  
  button.disabled = true;
  spinner.style.display = 'inline-block';
  buttonText.textContent = 'Scanne QR-Code...';
  
  // Simulate scanning delay
  setTimeout(() => {
    spinner.style.display = 'none';
    buttonText.textContent = 'QR-Code erkannt ‚úì';
    
    setTimeout(() => {
      nextStep();
      button.disabled = false;
      buttonText.textContent = 'QR-Code simulieren';
    }, 1000);
  }, 2000);
}

function confirmData() {
  const form = document.getElementById('patientForm');
  
  if (form.checkValidity()) {
    // Store patient data
    const patientData = {
      id: 'P001',
      name: document.getElementById('patientName').value,
      birthdate: document.getElementById('patientBirthdate').value,
      onboarded: true,
      onboardingDate: new Date().toISOString()
    };
    
    try {
      localStorage.setItem('netnurse_onboarding', JSON.stringify(patientData));
    } catch (e) {
      console.warn('LocalStorage nicht verf√ºgbar');
    }
    
    nextStep();
  } else {
    form.reportValidity();
  }
}

function openPatientApp() {
  // In a real app, this would navigate to the patient app
  alert('In der echten Anwendung w√ºrden Sie jetzt zur Patienten-App weitergeleitet.\n\n√ñffnen Sie "NetNurse - Patienten-App" um fortzufahren.');
  
  // For demo: Store that onboarding is complete
  try {
    localStorage.setItem('netnurse_onboarding_complete', 'true');
  } catch (e) {
    console.warn('LocalStorage nicht verf√ºgbar');
  }
}

// Check if already onboarded
document.addEventListener('DOMContentLoaded', () => {
  try {
    const onboardingComplete = localStorage.getItem('netnurse_onboarding_complete');
    if (onboardingComplete === 'true') {
      // Show option to skip to app
      const skipInfo = document.createElement('div');
      skipInfo.className = 'demo-qr-info';
      skipInfo.style.margin = '20px 0';
      skipInfo.innerHTML = '<strong>‚ÑπÔ∏è Bereits registriert:</strong> Sie sind bereits registriert. <a href="#" onclick="openPatientApp(); return false;" style="color: #2196f3; font-weight: 600;">Direkt zur App ‚Üí</a>';
      document.querySelector('#step1').appendChild(skipInfo);
    }
  } catch (e) {
    console.warn('LocalStorage check failed');
  }
});

// Keyboard navigation
document.addEventListener('keydown', (e) => {
  if (e.key === 'Enter' && currentStep === 1) {
    nextStep();
  }
});
</script>

</body>
</html>